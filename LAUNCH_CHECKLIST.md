# 🚀 Grapplay 론칭 전 체크리스트

## 📅 작성일: 2026-01-05
## ⚠️ 중요: 론칭 후 코드 수정이 어려우므로 모든 항목을 철저히 확인하세요!

---

## 1️⃣ 환경 변수 및 설정 (CRITICAL)

### Supabase 설정
- [ ] `.env.production`에 **실제 프로덕션 Supabase URL** 설정 확인
- [ ] `.env.production`에 **실제 프로덕션 Supabase Anon Key** 설정 확인
- [ ] Supabase 프로젝트가 **프로덕션 모드**로 설정되어 있는지 확인
- [ ] RLS (Row Level Security) 정책이 모든 테이블에 올바르게 적용되었는지 확인
- [ ] Supabase Storage 버킷 권한 설정 확인 (public/private)

### 결제 시스템 (Portone/KG Inicis)
- [ ] `.env.production`에 **실제 결제 Store ID** 설정 확인
- [ ] `.env.production`에 **실제 결제 Channel Key** 설정 확인
- [ ] Portone 대시보드에서 **실결제 모드** 활성화 확인
- [ ] 테스트 결제 → 실결제 전환 완료 확인
- [ ] 환불 정책 및 프로세스 문서화 완료
- [ ] PG사(KG Inicis) 계약 및 정산 계좌 등록 완료

### Vimeo 설정
- [ ] Vimeo API Access Token이 **프로덕션용**인지 확인
- [ ] Vimeo 도메인 화이트리스트에 실제 도메인 추가 확인
- [ ] 동영상 임베드 권한 설정 확인

### 기타 API 키
- [ ] 모든 `.env.production` 파일에 **실제 프로덕션 키** 입력 확인
- [ ] 개발/테스트 키가 남아있지 않은지 확인
- [ ] API 키가 GitHub에 노출되지 않았는지 확인 (.gitignore 확인)

---

## 2️⃣ 데이터베이스 및 백엔드

### 데이터베이스 마이그레이션
- [ ] 모든 마이그레이션 파일이 프로덕션 DB에 적용되었는지 확인
- [ ] 테이블 스키마가 최신 버전인지 확인
- [ ] 인덱스가 필요한 컬럼에 모두 생성되었는지 확인 (성능 최적화)

### 초기 데이터
- [ ] 관리자 계정 생성 완료
- [ ] 샘플 강의/루틴/드릴 데이터 업로드 완료
- [ ] 크리에이터 프로필 데이터 입력 완료
- [ ] 벨트 시스템 데이터 확인 (belt_levels 테이블)
- [ ] 일일 퀘스트 템플릿 데이터 확인

### Edge Functions (Supabase Functions)
- [ ] 모든 Edge Functions 배포 완료
- [ ] `get_lesson_content` 함수 정상 작동 확인
- [ ] `get_creator_balance` 함수 정상 작동 확인
- [ ] 함수별 권한 설정 확인 (JWT 검증 활성화)

### RLS (Row Level Security) 정책
- [ ] `users` 테이블: 본인 데이터만 조회/수정 가능
- [ ] `courses` 테이블: 공개된 강의만 조회, 소유자만 수정
- [ ] `lessons` 테이블: 접근 권한 검증 정책 적용
- [ ] `routines` 테이블: 접근 권한 검증 정책 적용
- [ ] `purchases` 테이블: 본인 구매 내역만 조회
- [ ] `subscriptions` 테이블: 본인 구독 정보만 조회
- [ ] 모든 민감한 테이블에 RLS 활성화 확인

---

## 3️⃣ 핵심 기능 테스트

### 회원가입 및 로그인
- [ ] 이메일 회원가입 정상 작동
- [ ] 소셜 로그인 (Google, Kakao 등) 정상 작동
- [ ] 비밀번호 재설정 이메일 발송 확인
- [ ] 로그아웃 후 재로그인 정상 작동
- [ ] 세션 유지 및 자동 로그인 확인

### 강의 시청 및 접근 제어
- [ ] **데일리 무료 클래스**: 유료 강의가 선정되어도 모든 회차 무료 시청 가능
- [ ] **데일리 무료 루틴**: 유료 루틴이 선정되어도 모든 드릴 무료 시청 가능
- [ ] 무료 강의: 모든 레슨 시청 가능
- [ ] 유료 강의: 1강만 무료 미리보기, 나머지 잠금
- [ ] 구매한 강의: 모든 레슨 시청 가능
- [ ] 구독자: 구독 제외 강의 외 모든 강의 시청 가능
- [ ] Vimeo 영상 재생 정상 작동 (모바일/데스크톱)
- [ ] 영상 진행률 저장 및 이어보기 기능 확인

### 결제 및 구독
- [ ] 강의 단품 구매 (실결제) 정상 작동
- [ ] 루틴 단품 구매 (실결제) 정상 작동
- [ ] 월간 구독 결제 정상 작동
- [ ] 결제 완료 후 즉시 콘텐츠 접근 가능 확인
- [ ] 결제 실패 시 에러 메시지 표시 확인
- [ ] 구독 취소 기능 정상 작동
- [ ] 구독 취소 후 현재 기간 종료까지 이용 가능 확인
- [ ] 자동 갱신 정지 확인

### 크리에이터 기능
- [ ] 강의 업로드 및 편집 기능 확인
- [ ] 루틴 생성 및 드릴 추가 기능 확인
- [ ] 수익 대시보드 정상 표시 (정산 금액 확인)
- [ ] 정산 신청 기능 확인
- [ ] 구독 수익 분배 로직 확인 (시청 시간 기반)

### 소셜 기능
- [ ] 피드 포스트 작성 및 공유 기능
- [ ] 좋아요, 댓글, 공유 기능 확인
- [ ] 팔로우/언팔로우 기능 확인
- [ ] 알림 시스템 정상 작동

### 훈련 기록 및 진행도
- [ ] 레슨 완료 체크 기능
- [ ] 루틴 완료 후 XP 획득 확인
- [ ] 일일 퀘스트 진행도 업데이트 확인
- [ ] 벨트 레벨업 시스템 확인
- [ ] 훈련 로그 저장 및 조회 확인

---

## 4️⃣ UI/UX 및 성능

### 반응형 디자인
- [ ] 모바일 (iPhone, Android) 레이아웃 확인
- [ ] 태블릿 레이아웃 확인
- [ ] 데스크톱 (1920px, 1440px, 1024px) 레이아웃 확인
- [ ] 가로/세로 모드 전환 시 레이아웃 깨짐 없음

### 성능 최적화
- [ ] 초기 로딩 시간 3초 이내 확인
- [ ] 이미지 최적화 (WebP, lazy loading) 확인
- [ ] 동영상 스트리밍 버퍼링 최소화 확인
- [ ] Lighthouse 점수 확인 (Performance 80+ 목표)
- [ ] 메모리 누수 없음 확인 (장시간 사용 테스트)

### 브라우저 호환성
- [ ] Chrome (최신 버전) 정상 작동
- [ ] Safari (iOS, macOS) 정상 작동
- [ ] Firefox 정상 작동
- [ ] Edge 정상 작동
- [ ] 모바일 브라우저 (Chrome, Safari) 정상 작동

### 접근성 (Accessibility)
- [ ] 키보드 네비게이션 가능
- [ ] 스크린 리더 호환성 확인
- [ ] 색상 대비 WCAG 기준 충족
- [ ] Alt 텍스트 모든 이미지에 추가

---

## 5️⃣ 보안 및 개인정보 보호

### 보안 설정
- [ ] HTTPS 적용 확인 (SSL 인증서)
- [ ] CORS 설정 확인 (허용 도메인만 접근)
- [ ] XSS 방지 처리 확인
- [ ] CSRF 토큰 적용 확인
- [ ] SQL Injection 방지 확인 (Supabase ORM 사용)
- [ ] 비밀번호 해싱 확인 (Supabase Auth 기본 제공)

### 개인정보 보호
- [ ] 개인정보 처리방침 페이지 작성 및 게시
- [ ] 이용약관 페이지 작성 및 게시
- [ ] 회원가입 시 약관 동의 체크박스 확인
- [ ] 사용자 데이터 암호화 확인
- [ ] 쿠키 사용 안내 및 동의 확인

### API 보안
- [ ] Supabase Anon Key만 클라이언트에 노출
- [ ] Service Role Key는 서버/Edge Function에서만 사용
- [ ] Rate Limiting 설정 확인 (DDoS 방지)
- [ ] API 엔드포인트 인증 확인

---

## 6️⃣ 에러 처리 및 모니터링

### 에러 처리
- [ ] 네트워크 오류 시 사용자 친화적 메시지 표시
- [ ] 404 페이지 커스터마이징 완료
- [ ] 500 에러 페이지 커스터마이징 완료
- [ ] 결제 실패 시 명확한 안내 메시지
- [ ] 로그인 실패 시 재시도 안내

### 로깅 및 모니터링
- [ ] Sentry 또는 로깅 도구 설정 (선택 사항)
- [ ] 에러 로그 수집 시스템 확인
- [ ] 사용자 행동 분석 도구 설정 (Google Analytics 등)
- [ ] 서버 상태 모니터링 설정

---

## 7️⃣ 법적 및 비즈니스

### 법적 문서
- [ ] 사업자 등록 완료 (필수)
- [ ] 통신판매업 신고 완료 (필수)
- [ ] 개인정보 처리방침 법률 검토 완료
- [ ] 이용약관 법률 검토 완료
- [ ] 환불 정책 명시 (전자상거래법 준수)

### 고객 지원
- [ ] 고객센터 이메일 또는 채널 설정
- [ ] FAQ 페이지 작성
- [ ] 1:1 문의 기능 확인
- [ ] 환불 요청 프로세스 문서화

### 마케팅 준비
- [ ] 소셜 미디어 계정 생성 (Instagram, YouTube 등)
- [ ] 론칭 공지 준비
- [ ] 프로모션 코드 시스템 확인 (선택 사항)
- [ ] 초기 사용자 유치 전략 수립

---

## 8️⃣ 배포 및 인프라

### 배포 환경
- [ ] 프로덕션 도메인 연결 확인
- [ ] DNS 설정 완료
- [ ] CDN 설정 확인 (Vercel/Cloudflare)
- [ ] 빌드 에러 없음 확인 (`npm run build` 성공)
- [ ] 환경 변수 프로덕션 서버에 설정 완료

### 백업 및 복구
- [ ] 데이터베이스 자동 백업 설정 (Supabase 기본 제공)
- [ ] 백업 복구 테스트 완료
- [ ] 코드 버전 관리 (Git) 최신 상태 확인

### 스케일링 준비
- [ ] Supabase 요금제 확인 (트래픽 예상치 고려)
- [ ] Vercel 요금제 확인 (대역폭 제한 확인)
- [ ] 트래픽 급증 시 대응 계획 수립

---

## 9️⃣ 최종 테스트 시나리오

### 신규 사용자 플로우
1. [ ] 회원가입 → 이메일 인증 → 로그인
2. [ ] 홈 화면에서 데일리 무료 클래스 확인
3. [ ] 데일리 무료 클래스 모든 회차 시청 가능 확인
4. [ ] 유료 강의 1강 미리보기 시청
5. [ ] 강의 구매 → 결제 → 전체 시청 가능 확인

### 구독 사용자 플로우
1. [ ] 구독 결제 완료
2. [ ] 구독 제외 강의 외 모든 강의 시청 가능 확인
3. [ ] 구독 취소 → 현재 기간 종료까지 이용 가능 확인

### 크리에이터 플로우
1. [ ] 크리에이터 계정 생성
2. [ ] 강의 업로드 (Vimeo 연동)
3. [ ] 강의 가격 설정 및 공개
4. [ ] 수익 대시보드에서 판매 내역 확인
5. [ ] 정산 신청 및 처리 확인

---

## 🔟 론칭 당일 체크리스트

### 론칭 직전 (D-1)
- [ ] 모든 팀원에게 론칭 일정 공지
- [ ] 긴급 연락망 확인
- [ ] 서버 상태 최종 점검
- [ ] 데이터베이스 백업 완료

### 론칭 당일 (D-Day)
- [ ] 실시간 모니터링 시작
- [ ] 에러 로그 실시간 확인
- [ ] 사용자 피드백 수집 채널 오픈
- [ ] 소셜 미디어 론칭 공지 게시

### 론칭 직후 (D+1 ~ D+7)
- [ ] 일일 사용자 통계 확인
- [ ] 결제 오류 모니터링
- [ ] 사용자 문의 즉시 대응
- [ ] 버그 리포트 수집 및 우선순위 분류
- [ ] 핫픽스 배포 준비 (긴급 버그 발생 시)

---

## ✅ 최종 승인

- [ ] **모든 체크리스트 항목 완료 확인**
- [ ] **팀 전체 최종 검토 완료**
- [ ] **론칭 승인 (대표/PM)**

---

## 📞 긴급 연락처

- **개발팀 리드**: [연락처]
- **서버 관리자**: [연락처]
- **고객 지원**: [이메일/전화]
- **Supabase 지원**: https://supabase.com/support
- **Vercel 지원**: https://vercel.com/support

---

## 📝 추가 메모

```
론칭 후 발견된 이슈나 개선 사항을 여기에 기록하세요.

[날짜] [이슈 내용] [해결 방법]
```

---

**🎉 모든 항목을 확인했다면, 자신 있게 론칭하세요!**
